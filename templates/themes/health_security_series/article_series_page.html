{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags webpack_loader %}

{% block extra_css %}
  {% render_bundle 'themeHealthSecuritySeries' 'css' %}
{% endblock %}

{% block body_class %}health-security-series-article-series{% endblock %}

{% block content %}
  <section class="health-security-series-article-series-hero">
    <div class="container-md">
      <h1>{{ self.title }}</h1>
      <div class="short-description">
        {{ self.short_description|richtext }}
      </div>
    </div>
  </section>
  <section class="health-security-series-article-series-in-the-series">
    <div class="container-md">
      {% for block in self.series_items %}
        {% if block.block_type == 'series_item' %}
          <article>
            <h3>
              <a href="{{ block.value.url }}">{{ block.value.title }}</a>
            </h3>
            <p class="authors">
              {% if block.value.specific.authors %}
                {% for author in block.value.specific.authors %}
                  {% if author.block_type == 'author' %}
                    <span><a href="{{ author.value.url }}">{{ author.value.title }}</a></span>
                  {% elif author.block_type == 'external_author' %}
                    <span>{{ author.value }}</span>
                  {% endif %}
                {% endfor %}
              {% endif %}
              {% if block.value.specific.speakers %}
                {% for speaker in block.value.specific.speakers %}
                  {% if speaker.block_type == 'speaker' %}
                    <span><a href="{{ speaker.value.url }}">{{ speaker.value.title }}</a></span>
                  {% elif speaker.block_type == 'external_speaker' %}
                    <span>{{ speaker.value }}</span>
                  {% endif %}
                {% endfor %}
              {% endif %}
            </p>
          </article>
        {% elif block.block_type == 'category_title' %}
          <h2>{{ block.value }}</h2>
        {% endif %}
      {% endfor %}
    </div>
  </section>
  <section class="health-security-series-article-series-credits">
    <div class="container-md">
      <h2>Credits</h2>
      <div class="health-security-series-article-series-credits-content">
        {{ self.credits|richtext }}
      </div>
    </div>
  </section>
{% endblock %}
