{% extends "base.html" %}
{% load wagtailcore_tags static %}

{% block body_class %}homepage{% endblock %}

{% block content %}
  <section class="featured homepage-featured">
    <div class="container">
      <div class="row">
        <div class="col-12 col-md-8">
          {% if self.featured_large %}
            {% include "includes/features/feature_content_large.html" with content=self.featured_large %}
          {% endif %}
        </div>
        <hr>
        <div class="col-12 col-md-4 featured-small">
          {% for item in self.featured_small %}
            {% if forloop.counter > 1 %}
              <hr>
            {% endif %}
            {% include "includes/features/feature_content_small.html" with content=item %}
          {% endfor %}
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <hr>
        </div>
      </div>
      <div class="row featured-medium">
        {% for item in self.featured_medium %}
          <div class="col-12 col-md-4">
            {% if forloop.counter > 1 %}
              <hr>
            {% endif %}
            {% include "includes/features/feature_content_medium.html" with content=item %}
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  <section class="homepage-featured-publications">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h2 class="homepage-subheading">
            <a href="/publications/">
              Publications
            </a>
          </h2>
        </div>
      </div>
      <div class="row">
        {% for publication in self.featured_publications %}
          <div class="col-12 col-md-3 homepage-featured-publication-row">
            {% include "includes/features/feature_publication_teaser.html" with publication=publication %}
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  <section class="featured homepage-featured-multimedia">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h2 class="homepage-subheading dark-mode">
            <a href="/multimedia/">
              Multimedia
            </a>
          </h2>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-8">
          {% if self.featured_multimedia_large %}
            {% include "includes/features/feature_content_large.html" with content=self.featured_multimedia_large dark_mode=True %}
          {% endif %}
        </div>
        <hr>
        <div class="col-12 col-md-4 featured-small">
          {% for item in self.featured_small %}
            {% if forloop.counter > 1 %}
              <hr>
            {% endif %}
            {% include "includes/features/feature_content_small.html" with content=item dark_mode=True %}
          {% endfor %}
        </div>
      </div>
    </div>
  </section>
  <section class="homepage-featured-experts">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h2 class="homepage-subheading">
            <a href="/experts/">
              Experts
            </a>
          </h2>
        </div>
      </div>
      <div class="row">
        {% for expert in self.featured_experts_list %}
          <div class="col-12 col-md-4 homepage-featured-expert-row">
            {% include "includes/features/feature_expert_short.html" with expert=expert %}
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
{% endblock content %}
