{% extends "base.html" %}
{% load wagtailcore_tags webpack_loader core_tags cache %}

{% block extra_css %}
  {% render_bundle 'articleLandingPage' 'css' %}
{% endblock %}
{% block extra_js %}
  {% render_bundle 'articleLandingPage' 'js' attrs='defer' %}
{% endblock %}

{% block content %}
  <header class="header--submenu">
    <div class="container">
      <nav class="border-top">
        <div class="row g-1 justify-content-between">
          <div class="col-4">
            <h1 id="page-label">Opinions</h1>
          </div>
          <div class="col-8">
            <ul class="header--submenu__right nav nav-tabs article-landing-page-nav" id="article-landing-page-tab" role="tablist">
              <li class="nav-item" role="presentation">
                <a class="nav-link active" id="opinion-tab" data-bs-toggle="tab" href="#opinions-tab-pane" role="tab"
                  aria-controls="opinions" aria-selected="true">Opinions</a>
              </li>
              <li class="nav-item" role="presentation">
                <a class="nav-link" id="opinion-series-tab" data-bs-toggle="tab" href="#opinion-series-tab-pane" role="tab"
                  aria-controls="opinion-series" aria-selected="false">Opinion Series</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </header>
  <div class="tab-content" id="article-landing-tab-content">
    <section class="article-landing-page__opinions fade show active tab-pane"  id="opinions-tab-pane" role="tabpanel" aria-labelledby="opinions-tab" tabindex="0">
      {% if self.opinion_slider %}
        <section class="article-landing-page__opinions-swiper">
          <div class="container">
            <div class="row">
              <div class="col">
                <div class="article-landing-page__swiper" id="opinions-swiper">
                  <div class="navigation-container">
                    <div class="swiper-container--opinions swiper-container">
                      <div class="swiper-wrapper">
                        {% for block in self.opinions_slider %}
                          <div class="swiper-slide">
                            {% include_block block %}
                          </div>
                        {% endfor %}
                      </div>
                    </div>
                    <div class="swiper-button-prev swiper-button-prev-opinions"></div>
                    <div class="swiper-button-next swiper-button-next-opinions"></div>
                  </div>
                  <div class="swiper-pagination swiper-pagination-opinions"></div>
                </div>
              </div>
            </div>
          </div>
        </section>
      {% endif %}

      <section class="article-landing-page__featured-opinions">
        <div class="container">
          {% for block in self.featured_opinions %}
            {% include_block block %}
            {% if not forloop.last %}
              <div class="row">
                <div class="col">
                  <hr />
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </section>

      <div class="container">
        <div class="row">
          <div class="col">
            <hr />
          </div>
        </div>
      </div>

      <section class="article-landing-page__search-table">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="opinions-list-section" id="opinions-search-table">
              </div>
            </div>
          </div>
        </div>
      </section>
    </section>
    <section class="article-landing-page__opinion-series fade tab-pane" id="opinion-series-tab-pane" role="tabpanel" aria-labelledby="opinion-series-tab" tabindex="0">
      <div id="article-landing-page__opinion-series-listing"></div>
    </section>
  </div>
{% endblock content %}
