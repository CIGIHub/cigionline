{% extends "base.html" %}
{% load wagtailimages_tags webpack_loader %}
{% block extra_css %}
  {% render_bundle 'eventPage' 'css' %}
{% endblock %}
{% block content %}
{% include "includes/heroes/hero_event.html" with topics=event.topics_sorted title=event.title date=event.publishing_date end_date=event.event_end event_type=event.get_event_type_display event_access=event.get_event_access_display authors=event.authors.all author_count=event.author_count registration_url=event.registration_url time_zone=event.time_zone time_zone_label=event.time_zone_label is_past=event.is_past %}

<section class="container event-registration-result-section">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <a href="{{ event.url }}" class="btn btn-link p-2 mb-3">&larr; Back to event</a>

      <div class="registration-banner-image">
        {% if event.registration_image_banner %}
          {% image event.registration_image_banner width-1280 %}
        {% endif %}
      </div>

      <h1>Registration status</h1>

      {% if status == "ok" %}
      <div class="alert alert-success" role="alert">
        Thanks! Your registration{% if registrant and registrant.registration_type %}
        for <strong>{{ registrant.registration_type.name }}</strong>{% endif %} was received and confirmed.
        We’ve emailed you a confirmation.
      </div>

      {% elif status == "wait" %}
      <div class="alert alert-warning" role="alert">
        Thanks! You’re on the waitlist. We’ll email you if a spot opens.
      </div>

      {% elif status == "err" %}
      <div class="alert alert-danger" role="alert">
        We couldn’t submit your registration. Please review the issues below and try again.
      </div>
      {% if messages %}
      <ul class="mb-4">
        {% for m in messages %}
        <li>{{ m }}</li>
        {% endfor %}
      </ul>
      {% endif %}

      {% elif status == "bot" %}
      <div class="alert alert-info" role="alert">
        It looks like the form wasn’t submitted correctly. Please try again.
      </div>
      {% else %}
      <div class="alert alert-secondary" role="alert">
        Registration status unknown. Please return to the event page and try again.
      </div>
      {% endif %}
    </div>
  </div>
</section>
{% endblock %}